### 회원가입(HOST2)
POST http://localhost:8080/api/v1/auth/signup
Content-Type: application/json

{
  "email": "host2@example.com",
  "password": "Test1234!@#",
  "nickName": "HostTwo",
  "phoneNumber": "010-0000-0001"
}

> {%
  client.global.set("host2UserId", response.body.data.userId);
%}

### 로그인(HOST2)
POST http://localhost:8080/api/v1/auth/login
Content-Type: application/json

{
  "email": "host2@example.com",
  "password": "Test1234!@#"
}

> {%
  client.global.set("host2AccessToken", response.body.data.accessToken);
%}


### 2-1. 모임 이미지 선 업로드 (png / jpg 2장)
POST http://localhost:8080/api/v1/groups/images/upload
Content-Type: multipart/form-data; boundary=boundary
Authorization: Bearer {{host2AccessToken}}

--boundary
Content-Disposition: form-data; name="images"; filename="img1.png"
Content-Type: image/png

< ../../image/resources/img1.png
--boundary
Content-Disposition: form-data; name="images"; filename="img2.jpg"
Content-Type: image/jpeg

< ../../image/resources/img2.jpg
--boundary--

> {%
  const images = response.body.data.images;

  client.global.set("c_img0_main",  images[0].imageUrl440x240);
  client.global.set("c_img0_thumb", images[0].imageUrl100x100);

  client.global.set("c_img1_main",  images[1].imageUrl440x240);
  client.global.set("c_img1_thumb", images[1].imageUrl100x100);
%}

### 2-2. V2 모임 생성 (취소 테스트용 모임)
POST http://localhost:8080/api/v2/groups/create
Content-Type: application/json
Authorization: Bearer {{host2AccessToken}}

{
  "title": "참여 취소 테스트용 자바 스터디",
  "location": "서울 서초구",
  "locationDetail": "교대역 1번 출구 근처 카페",
  "startTime": "2026-12-11T19:00:00",
  "endTime": "2026-12-11T21:00:00",
  "tags": [
    "참여취소테스트",
    "자바"
  ],
  "description": "참여 취소/중복 취소/HOST 취소 예외를 테스트하는 모임입니다.",
  "maxParticipants": 5,
  "images": [
    {
      "sortOrder": 0,
      "imageUrl440x240": "{{c_img0_main}}",
      "imageUrl100x100": "{{c_img0_thumb}}"
    },
    {
      "sortOrder": 1,
      "imageUrl440x240": "{{c_img1_main}}",
      "imageUrl100x100": "{{c_img1_thumb}}"
    }
  ]
}

> {%
  client.global.set("groupId_cancelTest", response.body.data.id);
%}

### 회원가입(MEMBER 1)
POST http://localhost:8080/api/v1/auth/signup
Content-Type: application/json

{
  "email": "c_member1@example.com",
  "password": "Test1234!@#",
  "nickName": "CancelMember1",
  "phoneNumber": "010-1111-2222"
}

> {%
  client.global.set("c_memberId1", response.body.data.userId);
%}

### 로그인(MEMBER 1)
POST http://localhost:8080/api/v1/auth/login
Content-Type: application/json

{
  "email": "c_member1@example.com",
  "password": "Test1234!@#"
}

> {%
  client.global.set("c_member1AccessToken", response.body.data.accessToken);
%}

### 회원가입(MEMBER 2)
POST http://localhost:8080/api/v1/auth/signup
Content-Type: application/json

{
  "email": "c_member2@example.com",
  "password": "Test1234!@#",
  "nickName": "CancelMember2",
  "phoneNumber": "010-2222-3333"
}

> {%
  client.global.set("c_memberId2", response.body.data.userId);
%}

### 로그인(MEMBER 2)
POST http://localhost:8080/api/v1/auth/login
Content-Type: application/json

{
  "email": "c_member2@example.com",
  "password": "Test1234!@#"
}

> {%
  client.global.set("c_member2AccessToken", response.body.data.accessToken);
%}

### 4-1. V2 MEMBER 1 참여
POST http://localhost:8080/api/v2/groups/{{groupId_cancelTest}}/attend
Content-Type: application/json
Authorization: Bearer {{c_member1AccessToken}}

{}

### 4-2. V2 MEMBER 2 참여
POST http://localhost:8080/api/v2/groups/{{groupId_cancelTest}}/attend
Content-Type: application/json
Authorization: Bearer {{c_member2AccessToken}}

{}

### 5-1. V2 MEMBER 1 참여 취소 (성공 케이스)
POST http://localhost:8080/api/v2/groups/{{groupId_cancelTest}}/left
Content-Type: application/json
Authorization: Bearer {{c_member1AccessToken}}

{}

### 5-2. 예외: MEMBER 1 다시 취소 시도 (예외: NOT_ATTEND_GROUP)
POST http://localhost:8080/api/v2/groups/{{groupId_cancelTest}}/left
Content-Type: application/json
Authorization: Bearer {{c_member1AccessToken}}

{}

### 5-3. 예외: HOST가 자신의 모임 취소 시도 (예외: HOST_CANNOT_LEAVE)
POST http://localhost:8080/api/v2/groups/{{groupId_cancelTest}}/left
Content-Type: application/json
Authorization: Bearer {{host2AccessToken}}

{}

### 5-4. (선택) V2 모임 상세 조회 - 참여 인원 / 상태 확인
GET http://localhost:8080/api/v2/groups/{{groupId_cancelTest}}
Authorization: Bearer {{c_member2AccessToken}}

### 6-1. V2 목록 첫 페이지 (기본: filter=ACTIVE, keyword 없음)
GET http://localhost:8080/api/v2/groups?size=5
Authorization: Bearer {{host2AccessToken}}

> {%
  const nextCursor = response.body.data.nextCursor;
  if (nextCursor !== null && nextCursor !== undefined) {
    client.global.set("v2_cursor_active_page1", nextCursor);
  }
%}

### 6-2. V2 목록 두 번째 페이지 (기본: filter=ACTIVE)
GET http://localhost:8080/api/v2/groups?size=5&cursor={{v2_cursor_active_page1}}
Authorization: Bearer {{host2AccessToken}}

> {%
  const nextCursor = response.body.data.nextCursor;
  if (nextCursor !== null && nextCursor !== undefined) {
    client.global.set("v2_cursor_active_page2", nextCursor);
  }
%}

### 6-3. V2 목록 키워드 검색 (keyword=스터디, filter=ACTIVE)
GET http://localhost:8080/api/v2/groups?keyword=스터디&size=5&filter=ACTIVE
Authorization: Bearer {{host2AccessToken}}

> {%
  const nextCursor = response.body.data.nextCursor;
  if (nextCursor !== null && nextCursor !== undefined) {
    client.global.set("v2_cursor_study_active_page1", nextCursor);
  }
%}

### 6-4. V2 목록 전체 상태 조회 (filter=ALL)
GET http://localhost:8080/api/v2/groups?size=5&filter=ALL
Authorization: Bearer {{host2AccessToken}}

> {%
  const nextCursor = response.body.data.nextCursor;
  if (nextCursor !== null && nextCursor !== undefined) {
    client.global.set("v2_cursor_all_page1", nextCursor);
  }
%}

### 6-5. V2 includeStatuses만 지정 (RECRUITING, FULL)
GET http://localhost:8080/api/v2/groups?size=5&filter=ALL&includeStatuses=RECRUITING&includeStatuses=FULL
Authorization: Bearer {{host2AccessToken}}

### 6-6. V2 excludeStatuses만 지정 (CANCELLED, FINISHED 제외)
GET http://localhost:8080/api/v2/groups?size=5&filter=ALL&excludeStatuses=CANCELLED&excludeStatuses=FINISHED
Authorization: Bearer {{host2AccessToken}}

### 6-7. V2 include + exclude 같이 지정 (exclude 우선: FULL 제외)
GET http://localhost:8080/api/v2/groups?size=5&filter=ALL&includeStatuses=RECRUITING&includeStatuses=FULL&excludeStatuses=FULL
Authorization: Bearer {{host2AccessToken}}

### 7-1. (선택) 로그인 안 한 상태에서 V2 목록 조회
GET http://localhost:8080/api/v2/groups?size=5

### 7-2. (선택) 로그인 안 한 상태에서 V2 모임 상세 조회
GET http://localhost:8080/api/v2/groups/{{groupId_cancelTest}}



### V2 로그인 후, 현재 유저 기준 참여 상태 포함하여 상세 조회
GET http://localhost:8080/api/v2/groups/{{groupId}}
Authorization: Bearer {{hostAccessToken}}