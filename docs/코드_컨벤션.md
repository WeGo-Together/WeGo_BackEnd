# Java 코드 컨벤션

**Google Java Style Guide 기반**

본 문서는 프로젝트에서 사용하는 **Java 코드 컨벤션(Java Code Convention)** 을 정리한 것이다.  
기본 원칙은 **Google Java Style Guide** 를 따르며, 사용 중인 **포매터 설정을 우선**으로 한다.

---

## 1. 기본 원칙

- 포매터(Google Java Style Formatter) 결과를 그대로 따른다.
- 컨벤션 관련 리뷰보다 **로직 중심 코드 리뷰**를 우선한다.
- 누구나 일정한 스타일을 유지하도록 자동화 도구 활용을 권장한다.

---

## 2. 파일 구조 및 인코딩

- **UTF-8 인코딩** 사용
- 한 파일에는 **하나의 public 클래스**만 존재
- 파일명은 public 클래스명과 동일
- 줄 끝 공백은 금지 (포매터가 자동 제거)

---

## 3. 들여쓰기 & 줄 길이

### 3.1 들여쓰기

- 기본 들여쓰기는 **2 spaces**  
  (프로젝트 특성상 4 spaces를 사용한다면 포매터 기준에 맞춘다)
- 탭(tab) 사용 금지

### 3.2 줄 길이

- 한 줄의 최대 길이는 **100자 내외** 유지
- 의미 단위가 끊어질 때 적절히 개행한다

---

## 4. 공백 및 개행 규칙

- 연산자 양 옆에 공백 사용

  ```java
  int sum = a + b;
  ```

- 쉼표 뒤 공백 사용

  ```java
  method(param1, param2, param3);
  ```

- 제어문(if, for, while) 뒤 공백
  ```java
  if (condition) {
    ...
  }
  ```

---

## 5. 괄호 스타일

### 5.1 중괄호

- 여는 `{` 는 같은 줄 끝
- 닫는 `}` 는 새 줄 단독

```java
if (isValid) {
  doSomething();
} else {
  doSomethingElse();
}
```

- 단일 라인 조건문도 반드시 중괄호 사용

```java
if (isValid) {
  process();
}
```

### 5.2 메서드 선언

```java
public Result execute(Task task) {
  ...
}
```

---

## 6. 네이밍 규칙 (Naming)

### 6.1 패키지

- 모두 소문자
- 예: `com.example.project.order`

### 6.2 클래스 & 인터페이스

- PascalCase
- 예: `OrderService`, `UserController`

### 6.3 메서드

- lowerCamelCase
- 예: `calculateTotal()`

### 6.4 변수

- lowerCamelCase
- 예: `orderId`, `totalPrice`

### 6.5 상수

- UPPER_SNAKE_CASE

```java
private static final int MAX_RETRY = 3;
```

---

## 7. Import 규칙

- `import *` 사용 금지

```java
// 금지
import java.util.*;

// 권장
import java.util.List;
import java.util.Map;
```

- Import 그룹 사이에는 한 줄 공백
  1. `java.*`
  2. `javax.*`
  3. 서드파티(`org.*`, `com.*`)
  4. 프로젝트 내부 패키지

---

## 8. 클래스 구성 순서

가능한 다음 순서를 따른다:

1. 상수 (`static final`)
2. 필드
3. 생성자
4. public 메서드
5. protected 메서드
6. private 메서드
7. 내부 클래스 / enum

---

## 9. 주석 규칙

### 9.1 Javadoc

- public 클래스 및 메서드는 가능하면 Javadoc 작성

```java
/**
 * 주문을 생성한다.
 *
 * @param request 주문 요청 정보
 * @return 생성된 주문 객체
 */
public Order createOrder(CreateOrderRequest request) {
  ...
}
```

### 9.2 구현 주석

- "왜 이렇게 설계했는가"를 설명할 때만 작성
- 코드 자체로 설명 가능한 내용을 주석으로 작성하지 않는다

---

## 10. 예외 처리

- 의미 있는 커스텀 예외 사용

```java
throw new OrderNotFoundException(orderId);
```

- 빈 catch 절 금지
- 로깅 후 재던지기 또는 적절한 처리 수행

---

## 11. 로깅 규칙

- `System.out.println` 사용 금지
- SLF4J 형태 로깅 권장

```java
private static final Logger log = LoggerFactory.getLogger(OrderService.class);
log.info("Order created: {}", orderId);
```

---

## 12. Null 처리 & Optional

- `return null` 지양
- 필요 시 `Optional<T>` 반환
- 메서드 파라미터로 Optional 사용 금지

---

## 13. 컬렉션 및 제네릭

- 제네릭 명시

```java
List<Order> orders = new ArrayList<>();
```

- `var` 사용은 가독성이 명확할 때만 허용

---

## 14. 람다 & 스트림

- 단순한 경우에만 사용
- 복잡한 스트림 체인은 메서드로 분리

```java
orders.stream()
    .filter(Order::isCompleted)
    .map(Order::getTotalPrice)
    .forEach(this::logPrice);
```

---

## 15. 테스트 코드 컨벤션

- 테스트 클래스명: `ClassNameTest`
- 메서드는 행위 기반으로 작성

```java
void createOrder_success_whenValidRequest() { ... }
```

- Given / When / Then 구조 권장

```java
// given
// when
// then
```

---

## 16. 포매터 & 정적 분석

- Google Java Style 기반 포매터 사용 (IDE 동일 설정)
- 정적 분석 도구(Spotless/Checkstyle)를 통해 컨벤션 자동 검증
- 포매팅 불일치 시 IDE 재포맷 또는 자동화 도구를 따른다

---

## 17. 변경 관리

- 규칙 변경 시 팀 논의 → 문서 업데이트 → 포매터/정적 분석 설정 변경
- 변경은 PR로 기록을 남긴다

---

**본 규칙은 Google Java Style Guide 기반이며, 프로젝트 특성에 따라 향후 조정될 수 있다.**
